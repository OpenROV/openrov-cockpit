<link rel="import" href="../polymer/polymer.html">
<dom-module name="javascript-latency">
<style>
</style>
  <template>
    <div style='width:100px;'>
    <span id='fpsmeter' style='width: 100px; display: block;'></span>
   </div>
  </template>

  <script src='../fpsmeter/dist/fpsmeter.js' ></script>
  <script>
    (function() {
      Polymer({
        is: 'javascript-latency',
        ready: function () {
            this.meter = new FPSMeter(this.$.fpsmeter, {
              interval: 100,
              smoothing: 10,
              show: 'fps',
              toggleOn: '',
              decimals: 1,
              maxFps: 30,
              threshold: 100,
              position: 'absolute',
              zIndex: 10,
              left: '10',
              top: '10',
              right: 'auto',
              bottom: 'auto',
              margin: 'auto',
              theme: 'colorful',
              heat: 1,
              graph: 1,
              history: 20
            });
      //      this.meter.hide();
        },
        attached: function(){
           var self = this;

           this._updateInterval=setInterval(function () {
              self.meter.tick();
            }, 33.3);
        },
        detached: function(){
          clearInterval( this._updateInterval);
        }
      })
    })();
  </script>

</dom-module>
