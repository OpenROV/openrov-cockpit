<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../orov-behaviors/orov-behavior.html">
<dom-module name="orov-rov-gamepad">
  <style>
    .indicator {
      top: 5px;
      height: 20px;
      line-height: 20px;
      padding: 10px 2px;
      background-color: transparent;
    }

    #gamepad img {
      padding: 10px 0px 10px;
      width: 32px;
    }

  </style>

  <template>

    <a href="/#" id="gamepad" class="{{ ! gamepadConected ? 'hidden' : '' }}">
      <img id="gamepadPopover" src="../../../themes/OpenROV/img/gamepad.png" rel="popover">
    </a>

  </template>
  <script>
    (function() {
      Polymer({
        is: 'orov-rov-gamepad',
        gamepadConected: false,
        attached: function() {
          var self = this;

          window.cockpit.rov.on('plugin.input.gamepad.connected', function() {
            self.gamepadConected = true;
          });
          window.cockpit.rov.on('plugin.input.gamepad.disconnected', function() {
            self.gamepadConected = false;
          });
        }
      })
    })();
  </script>

</dom-module>
